!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.HtmlDurationPicker=t():e.HtmlDurationPicker=t()}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t),
/**
 * @preserve
 * html-duration-picker.js
 *
 * @description Turn an html input box to a duration picker, without jQuery
 * @version 1.0.10
 * @author Chif <nadchif@gmail.com>
 * @license GPL v3
 *
 */t.default=function(){const e=e=>{const t=e.target.selectionStart,r=e.target.value.indexOf(":"),n=e.target.value.lastIndexOf(":");if(!(r<0||n<0)){if(t<r)return e.target.setAttribute("data-adjustment-mode",3600),void e.target.setSelectionRange(0,r);if(t>r&&t<n)return e.target.setAttribute("data-adjustment-mode",60),void e.target.setSelectionRange(r+1,n);if(t>n)return e.target.setAttribute("data-adjustment-mode",1),void e.target.setSelectionRange(n+1,n+3);e.target.setAttribute("data-adjustment-mode","ss"),e.target.setSelectionRange(n+1,n+3)}},t=(e,t)=>{const r=e.value.indexOf(":"),n=e.value.lastIndexOf(":");return e.focus(),e.select(),t>=3600?(e.selectionStart=0,void(e.selectionEnd=r)):t>=60?(e.selectionStart=r+1,void(e.selectionEnd=n)):(e.selectionStart=n+1,void(e.selectionEnd=n+3))},r=e=>{let t=1;return Number(e.getAttribute("data-adjustment-mode"))>0&&(t=Number(e.getAttribute("data-adjustment-mode"))),t},n=(e,n)=>{const a=e.value.split(":"),o=r(e);let i=0;switch(3===a.length&&(i=Number(a[2])+Number(60*a[1])+Number(60*a[0]*60)),n){case"up":i+=o;break;case"down":(i-=o)<0&&(i=0)}((e,t)=>{const r=Math.floor(t/3600);t%=3600;const n=Math.floor(t/60),a=t%60,o=String(r).padStart(2,"0"),i=String(n).padStart(2,"0"),d=String(a).padStart(2,"0");e.value=`${o}:${i}:${d}`})(e,i),t(e,o)},a=(e,n)=>{const a=r(e);switch(n){case"left":t(e,60*a);break;case"right":t(e,a/60)}},o=e=>{const t=e.target.value.split(":");3===t.length?(isNaN(t[0])&&(t[0]="00"),(isNaN(t[1])||t[1]<0)&&(t[1]="00"),(t[1]>59||t[1].length>2)&&(t[1]="59"),(isNaN(t[2])||t[2]<0)&&(t[2]="00"),(t[2]>59||t[2].length>2)&&(t[2]="59"),e.target.value=t.join(":")):e.target.value="00:00:00"},i=e=>{if("ArrowDown"===e.key||"ArrowUp"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key){switch(e.key){case"ArrowDown":n(e.target,"down");break;case"ArrowUp":n(e.target,"up");break;case"ArrowLeft":a(e.target,"left");break;case"ArrowRight":a(e.target,"right")}e.preventDefault()}if(isNaN(e.key)&&!["Backspace","ArrowDown","ArrowUp","Tab"].includes(e.key))return e.preventDefault(),!1},d=()=>{return document.querySelectorAll("input[html-duration-picker]").forEach(t=>{if("true"==t.getAttribute("data-upgraded"))return;const r=t.currentStyle||window.getComputedStyle(t),a=r.marginRight,d=r.marginLeft,s=r.width;t.setAttribute("data-upgraded",!0),t.value="00:00:00",t.style.textAlign="right",t.style.paddingRight="20px",t.style.boxSizing="border-box",t.style.width="100%",t.style.margin=0,t.style.cursor="text",t.setAttribute("aria-label","Duration Picker"),t.addEventListener("keydown",i),t.addEventListener("select",e),t.addEventListener("mouseup",e),t.addEventListener("change",o),t.addEventListener("blur",o),t.addEventListener("keyup",o),t.addEventListener("drop",e=>e.preventDefault());const l=document.createElement("button"),u=document.createElement("button"),p=[l,u];l.setAttribute("aria-label","Increase duration"),l.setAttribute("style",`text-align:center; width: 16px;padding: 0px 4px; border:none; cursor:default;\n        height:${t.offsetHeight/2-1}px !important; position:absolute; top: 1px;`),u.setAttribute("aria-label","Decrease duration"),u.setAttribute("style",`text-align:center; width: 16px;padding: 0px 4px; border:none; cursor:default; \n        height:${t.offsetHeight/2-1}px !important; position:absolute; top: ${t.offsetHeight/2-1}px;`);const c=document.createElement("div"),f=document.createElement("div");c.setAttribute("style","width:0;height:0;\n        border-style:solid;border-width:0 4px 5px 4px; border-color:transparent transparent #000 transparent"),f.setAttribute("style","width:0;height:0;\n        border-style:solid;border-width:5px 4px 0 4px; border-color:#000 transparent transparent transparent"),u.appendChild(f),l.appendChild(c),p.forEach(e=>{let r;e.addEventListener("mousedown",a=>{a.preventDefault(),e==l?(n(t,"up"),r=setInterval(n,200,t,"up")):(n(t,"down"),r=setInterval(n,200,t,"down"))}),e.addEventListener("mouseup",()=>clearInterval(r)),e.addEventListener("mouseleave",()=>clearInterval(r))});const g=document.createElement("div");g.setAttribute("style",`display:inline-block; position: absolute;top:1px;left: ${parseFloat(s)-20}px;\n        height:${t.offsetHeight}px; padding:2px 0`),g.appendChild(l),g.appendChild(u);const b=document.createElement("div");b.setAttribute("style",`display: inline-block; position: relative; background: transparent; \n        padding: 0px; width: ${s}; margin-left: ${d}; margin-right: ${a};`),t.parentNode.insertBefore(b,t),b.appendChild(t),b.appendChild(g)}),!0};return window.addEventListener("DOMContentLoaded",()=>d()),{init:d,refresh:d}}()}]).default}));